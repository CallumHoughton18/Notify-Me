@page "/Manage"
@using notifyme.shared.ViewModels
@using notifyme.server.Shared.Manage_Notifications
@using notifyme.server.Shared.Manage_Subscriptions

@inject ManageUserDataViewModel _manageVm;  
@inherits notifyme.server.Components.BaseMVVMComponent

<MudText Typo="Typo.h4" Class="mb-5">Manage Notifications</MudText>
<NotificationsTable Notifications="_manageVm.Notifications"
                    @bind-SelectedNotification="_manageVm.SelectedNotification"
                    Class="mb-5"
                    SaveSelectedNotification="@_manageVm.SaveSelectedNotification"/>
<SubscriptionsTable Subscriptions="_manageVm.Subscriptions"/>

<LoadingOverlay IsLoadingState="@_manageVm.IsLoading" ></LoadingOverlay>

@code {
    protected override Task OnInitializedAsync()
    {
        BindViewModelToLifeCycle(_manageVm);
        return base.OnInitializedAsync();
    }
}